{{ define "body" }}
    <body class="homepage-body {{ if .Site.Params.backgroundImage }} background-image" style="background-image: url('{{ .Site.Params.backgroundImage }}');" {{ else }}"{{ end }}>
{{ end }}

{{ define "main" }}
<main aria-role="main" class="homepage-v2">
    <!-- Animated background elements -->
    <div class="bg-gradient-orbs">
        <div class="orb orb-1"></div>
        <div class="orb orb-2"></div>
        <div class="orb orb-3"></div>
    </div>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-container hero-centered">
            <div class="hero-visual animate-float">
                <div class="visual-card main-card">
                    {{ if .Site.Params.Portrait.Path }}
                        <img src="{{ .Site.Params.Portrait.Path }}" alt="{{ .Site.Params.Portrait.Alt | default .Site.Author.name }}" class="profile-image" />
                    {{ end }}
                    <div class="card-glow"></div>
                </div>
                <div class="floating-badge badge-security">
                    <svg class="badge-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg> Cybersecurity
                </div>
                <div class="floating-badge badge-product">
                    <svg class="badge-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg> B2B SaaS
                </div>
                <div class="floating-badge badge-ai">
                    <svg class="badge-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg> AI
                </div>
                <div class="floating-badge badge-pm">
                    <svg class="badge-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><rect x="8" y="2" width="8" height="4" rx="1" ry="1"/></svg> Product Management
                </div>
                <div class="floating-badge badge-aspm">
                    <svg class="badge-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg> ASPM
                </div>
            </div>

            <div class="hero-content">
                <div class="hero-badge animate-fade-in">
                    <span class="badge-dot"></span>
                    <span>Hey, I'm Shagun ðŸ‘‹</span>
                </div>
                
                <h1 class="hero-title animate-slide-up">
                    <span class="title-line">Building</span>
                    <span class="title-line accent">Secure Products</span>
                    <span class="title-line">That Scale</span>
                </h1>
                
                <p class="hero-description animate-slide-up delay-1">
                    Senior Product Manager crafting AI-powered cybersecurity solutions. 
                    I help organizations ship software <em>fast</em> and ship it <em>securely</em>.
                </p>
                
                <div class="hero-cta animate-slide-up delay-2">
                    <a href="/about/" class="btn-primary">
                        <span>About Me</span>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M5 12h14M12 5l7 7-7 7"/>
                        </svg>
                    </a>
                    <a href="/projects/" class="btn-secondary">
                        <span>View Projects</span>
                    </a>
                </div>

                <div class="hero-stats animate-fade-in delay-3">
                    {{ $blogSection := .Site.GetPage "section" "blog" }}
                    {{ $blogPosts := where $blogSection.Pages ".Params.unlisted" "!=" true }}
                    {{ $blogPosts = where $blogPosts ".Draft" "!=" true }}
                    {{ $blogCount := len $blogPosts }}
                    <a href="/blog/" class="stat-item stat-link">
                        <span class="stat-number" data-target="{{ $blogCount }}">0</span>
                        <span class="stat-label">Blog Posts</span>
                    </a>
                    <div class="stat-divider"></div>
                    <a href="/blog/bookshelf/" class="stat-item stat-link">
                        <span class="stat-number" data-target="12">0</span>
                        <span class="stat-label">Books Read</span>
                    </a>
                    <div class="stat-divider"></div>
                    {{ $projectSection := .Site.GetPage "section" "projects" }}
                    {{ $projects := where $projectSection.Pages ".Draft" "!=" true }}
                    {{ $projects = where $projects "Kind" "page" }}
                    {{ $projectCount := len $projects }}
                    <a href="/projects/" class="stat-item stat-link">
                        <span class="stat-number" data-target="{{ $projectCount }}">0</span>
                        <span class="stat-label">Projects</span>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Focus Areas - Bento Grid -->
    <section class="bento-section">
        <div class="section-container">
            <div class="section-header animate-on-scroll">
                <span class="section-tag">What I Do</span>
                <h2 class="section-title">Key Focus Areas</h2>
            </div>

            <div class="bento-grid">
                <a href="{{ "/categories/security/" | relURL }}" class="bento-card bento-large animate-on-scroll">
                    <div class="bento-icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg></div>
                    <h3>Cybersecurity</h3>
                    <p>Building AI-powered Application Security Posture Management (ASPM) and Risk-Based Vulnerability Management (RBVM) solutions.</p>
                    <div class="bento-tags">
                        <span>ASPM</span>
                        <span>DevSecOps</span>
                        <span>RBVM</span>
                    </div>
                    <div class="bento-arrow">â†’</div>
                </a>

                <a href="{{ "/categories/startups/" | relURL }}" class="bento-card bento-medium animate-on-scroll">
                    <div class="bento-icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="7" width="20" height="14" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></svg></div>
                    <h3>Product Management</h3>
                    <p>Driving product strategy, roadmaps, and execution for B2B SaaS platforms.</p>
                    <div class="bento-arrow">â†’</div>
                </a>

                <a href="{{ "/categories/dev/" | relURL }}" class="bento-card bento-medium animate-on-scroll">
                    <div class="bento-icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg></div>
                    <h3>Tech & Development</h3>
                    <p>Linux, Docker, Git, and automation. Building efficient developer workflows.</p>
                    <div class="bento-arrow">â†’</div>
                </a>

                <div class="bento-card bento-small bento-accent animate-on-scroll">
                    <div class="bento-number">250+</div>
                    <div class="bento-label">Security Tool Integrations</div>
                </div>

                <a href="/blog/" class="bento-card bento-wide animate-on-scroll">
                    <div class="bento-icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg></div>
                    <h3>Writing & Insights</h3>
                    <p>Sharing perspectives on cybersecurity, startups, and technology through blog posts and guides.</p>
                    <div class="bento-arrow">â†’</div>
                </a>
            </div>
        </div>
    </section>

    <!-- Recent Posts Section -->
    <section class="posts-section">
        <div class="section-container">
            <div class="section-header animate-on-scroll">
                <span class="section-tag">Latest</span>
                <h2 class="section-title">Recent Blogs</h2>
            </div>

            <div class="posts-grid">
                {{ $blogPosts := where .Site.RegularPages "Section" "blog" }}
                {{ $blogPosts = where $blogPosts ".Params.unlisted" "!=" true }}
                {{ range $i, $post := first 4 ($blogPosts.ByDate.Reverse) }}
                    <a href="{{ .Permalink }}" class="post-card animate-on-scroll" style="--delay: {{ $i }}">
                        <div class="post-meta">
                            <span class="post-date">{{ .Date.Format $.Site.Params.dateformShort }}</span>
                            {{ with .Params.categories }}
                                <span class="post-category">{{ index . 0 }}</span>
                            {{ end }}
                        </div>
                        <h3 class="post-title">{{ .Title }}</h3>
                        <p class="post-excerpt">{{ .Summary | plainify | truncate 100 }}</p>
                        <span class="post-link">
                            Read blog
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M5 12h14M12 5l7 7-7 7"/>
                            </svg>
                        </span>
                    </a>
                {{ end }}
            </div>

            <div class="posts-cta animate-on-scroll">
                <a href="/blog/" class="btn-outline">
                    View all posts
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M5 12h14M12 5l7 7-7 7"/>
                    </svg>
                </a>
            </div>
        </div>
    </section>

    <!-- Connect Section -->
    <section class="connect-section">
        <div class="section-container">
            <div class="connect-card animate-on-scroll">
                <div class="connect-content">
                    <h2>Let's Connect</h2>
                    <p>Interested in discussing product strategy, cybersecurity, or building something together?</p>
                    <div class="connect-links">
                        {{- with .Site.Params.social }}
                            {{ partial "social-icons.html" . }}
                        {{- end }}
                    </div>
                </div>
                <div class="connect-visual">
                    <div class="connect-circles">
                        <div class="circle circle-1"></div>
                        <div class="circle circle-2"></div>
                        <div class="circle circle-3"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>

<script>
// Animate numbers on scroll
function animateNumbers() {
    const numbers = document.querySelectorAll('.stat-number[data-target]');
    numbers.forEach(num => {
        const target = parseInt(num.dataset.target);
        const duration = 2000;
        const step = target / (duration / 16);
        let current = 0;
        
        const updateNumber = () => {
            current += step;
            if (current < target) {
                num.textContent = Math.floor(current);
                requestAnimationFrame(updateNumber);
            } else {
                num.textContent = target;
            }
        };
        updateNumber();
    });
}

// Intersection Observer for scroll animations
function initScrollAnimations() {
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('animate-visible');
            }
        });
    }, { threshold: 0.1, rootMargin: '0px 0px -50px 0px' });

    document.querySelectorAll('.animate-on-scroll').forEach(el => {
        observer.observe(el);
    });
}

// Initialize
document.addEventListener('DOMContentLoaded', () => {
    animateNumbers();
    initScrollAnimations();
});
</script>
{{ end }}
